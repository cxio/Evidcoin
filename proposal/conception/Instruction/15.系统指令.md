# 系统指令

少量执行系统级功能的指令。至此，指令名已有前缀开头，此为 `SYS_`。


## 定义

指令码区间：`[164-169]`，6个。

```go
码值    指令字          说明
-----------------------------------------------------------
164     SYS_TIME(1){}   全局时间取值
        // 全局时间对象是客户端真实的当前时间，只读。
        // 附参：条目标识。
        // 实参：无。
        // 返回值：目标条目的值。
        // 条目：
        // - 默认           当前时间（Time）
        // - Stamp          时间戳（秒数）
        // - Year           年次（4位）
        // - Month          月次/年（1-12）
        // - YearDay        日次/年（1-365|366）
        // - Day            日次/月（1-31）
        // - WeekDay        日次/周（0-6）
        // - Hour           时数/日（0-23）
        // - Minute         分钟数/时（0-59）
        // - Second         秒数/分钟（0-59）
        // - Millisecond    毫秒数/秒（0-999）
        // - Microsecond    微秒数/秒（0-999999）
        // 注：
        // 返回的数值统一为Int类型。
        // 例：
        // SYS_TIME{Stamp}  获取系统当前的时间戳。
        // SYS_TIME[0]      获取当前时间对象（Time）。
        // SYS_TIME         同上

165     SYS_AWARD(1)    兑奖验算
        // 按设计规则检查兑奖是否满足要求。
        // 附参：兑奖比率（10 => 10%），不大于100。
        // 实参：奖励块高度。
        // 返回值：兑奖金额（已减去截留部分）。
        // 规则：
        // 仅可使用在Coinbase交易的输出脚本中。
        // 检查由系统内部完成，详见设计文档。
        // 注记：
        // 是检查兑奖区块之后的链段，需满足长度限定。

166     SYS_CHKPASS     系统验证
        // 即内置的交易验证，包含单签和多签。
        // 本指令也是通关指令（如PASS），验证失败会退出。
        // 注意接收者地址必须是标准格式。
        // 实参：无。
        // 返回值：无。
        // 注意：
        // 币金和凭信遵循不同的验证逻辑，但二者都由本指令启动执行。
        // - 币金：需提取币金数量。
        // - 凭信：需检查转移逻辑（计次、有效期、修改性等）。
        // 本指令的实参从环境提取而非数据栈。这是一个特例。
        //
        // 参考：
        // 验证函数声明：
        // SYS_CHKPASS( 签名类型, 授权标记, []签名, []公钥, []公钥哈希 )
        // 签名类型：
        // - 1: 单签
        // - 2: 多签
        // 末尾的“[]公钥哈希”仅在多签时有用。
        //
        // 设计：
        // 让解锁脚本中的签名数据剥离，不参与交易ID计算，方便后期移除。
        // 交易的安全性已转由链式哈希来保证。
        // 作为单独的指令存在，可方便用户灵活指定系统验证启动的位置。
        //
        // 另外，单签/多签实参不出现在脚本中，也强化了隐私性。

167-168 （未用）

169     SYS_NULL        源码零点标识
        // 在脚本的当前位置设置一个NULL点，作为片段提取时的起点。
        // 主要对 SOURCE 指令有用。
        // 例：
        // SYS_NULL     // 设置起点
        // "Hai"        // 入栈字符串 Hai
        // ...          // 除了 SYS_NULL 的任意指令序列
        // SOURCE[2]    // 提取从 Hai 开始到本指令的源码（包含）
```
