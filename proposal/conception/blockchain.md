# Blockchain Core 核心实现

> **主旨**：极致简化，专注核心。方便任意场景下的自由集成。

## 需求

Blockchain Core 是区块链系统的核心组件，主要着眼于区块链整体的管理与维护。精简并独立运行，可以与任意其它功能的部件协作（JSON-RPC），完成区块链生态的自由构建……比如被集成进用户使用的轻客户端、简单参与铸造竞争的围观者、正式参与交易校验的管理层、守卫者、校验员、公共服务器、浏览器插件、移动应用等等。

因此作为一个极致轻量的核心，共识构造都应当被剥离出来，因为共识验证仅有校验节点才需要，普通的用户轻客户端，以及作为公共服务的第三方节点也是不需要的。它们默认区块链已经安全，直接使用区块链数据即可。


## 功能

### 入块验证

接受外部组件的区块提交，简单验证区块的合法性即可。
如果有相同高度的区块二次提交，简单反馈冲突错误（拒绝入块），外部需删除该区块后才能重新提交入链。

> **注：**
> 简单验证即可，比如新区块头的前一区块哈希值是否正确。
> 区块本身的合法性并不由核心负责，而是由功能剥离的外部提交者负责。


### 数据存储

根据用户配置，存储区块头链数据。区块头链需从创世块开始维持连续性，直至当前最新区块不可中断。

因为区块头支持年块哈希，所以实际上并不需要存储完整的区块头数据，只要年块哈希衔接，就可以维持链的连续性。用户可以配置任意年度的区块头数据忽略，只需维持年块的衔接即可。


### 数据完整性

由于核心不存储完整的区块头数据（年块衔接机制下的省略），但同时却提供完整的区块头链检索。因此需要一个确保完整性的机制：就是可以连接到第三方公共服务（`Blockqs`），以即时获取完整的区块头数据。

可能需要从多个第三方服务节点获取数据，以确保数据的可用性与完整性。


### 数据访问

- 提供区块头数据的访问接口，支持按区块高度、区块哈希值查询区块头。
- 支持区块头链的同步接口，方便外部组件调用进行区块头链的同步。
